<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Jigsaw – Static Sites for Laravel Developers</title>

        <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
        <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
        <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
        <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
        <link rel="manifest" href="/manifest.json">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#309e74">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="msapplication-TileImage" content="/mstile-144x144.png">
        <meta name="theme-color" content="#ffffff">

        <link rel="stylesheet" href="/css/main.css">
        <link href='https://fonts.googleapis.com/css?family=Lato:100,300,300italic,400,400italic,500,500italic,700,700italic' rel='stylesheet' type='text/css'>
    </head>
    <body class="border-t-3 border-primary full-height flex-col">
        <div class="flex-fit">
            <nav class="navbar navbar-brand">
    <div class="container">
        <div class="navbar-content">
            <div>
                <a class="link-plain text-xxl flex-y-center" href="/">
                    <img class="logo" src="/img/jigsaw-logo-440.png" width="220">
                </a>
            </div>
            <div class="docsearch navbar-buttons">
                <input id="docsearch" class="docsearch__input" type="text" name="docsearch" value=""/>
                <span class="docsearch__icon"></span>
            </div>
        </div>
    </div>
</nav>

<div class="container m-xs-b-6">
    <div class="row">
        <div class="col-md-3 m-xs-b-6">
            <nav class="nav-list">
                <a class="nav-list-item" href="/docs/installation/">Installation</a>
                <a class="nav-list-item nav-list-item--sub" href="/docs/upgrading/">Upgrading</a>
                <a class="nav-list-item" href="/docs/building-and-previewing/">Building &amp; Previewing</a>
                <a class="nav-list-item" href="/docs/compiling-assets/">Compiling Assets</a>

                <a class="nav-list-item" href="/docs/content/">Creating Your Site's Content</a>
                <a class="nav-list-item nav-list-item--sub" href="/docs/content-blade/">Blade Templates &amp; Partials</a>
                <a class="nav-list-item nav-list-item--sub" href="/docs/content-markdown/">Markdown</a>
                <a class="nav-list-item nav-list-item--sub" href="/docs/content-other-file-types/">Other File Types</a>

                <a class="nav-list-item" href="/docs/site-variables/">Site Variables</a>
                <a class="nav-list-item" href="/docs/helper-methods/">Helper Methods</a>
                <a class="nav-list-item" href="/docs/page-metadata/">Page Metadata</a>
                <a class="nav-list-item" href="/docs/environments/">Environments</a>

                <a class="nav-list-item" href="/docs/collections/">Collections</a>
                <a class="nav-list-item nav-list-item--sub" href="/docs/collections-extending-parent-templates/">Extending Parent Templates</a>
                <a class="nav-list-item nav-list-item--sub" href="/docs/collections-paths/">Paths</a>
                <a class="nav-list-item nav-list-item--sub" href="/docs/collections-sorting/">Sorting</a>
                <a class="nav-list-item nav-list-item--sub" href="/docs/collections-pagination/">Pagination</a>
                <a class="nav-list-item nav-list-item--sub" href="/docs/collections-variables-and-functions/">Variables &amp; Helper Functions</a>
                <a class="nav-list-item nav-list-item--sub" href="/docs/collections-remote-collections/">Remote Collections</a>

                <a class="nav-list-item" href="/docs/pretty-urls/">Pretty URLs</a>
                <a class="nav-list-item" href="/docs/custom-404-page/">Custom 404 Page</a>
                <a class="nav-list-item" href="/docs/event-listeners/">Event Listeners</a>
                <a class="nav-list-item" href="/docs/deploying-your-site/">Deploying Your Site</a>
            </nav>
            <p class="p-xs-x-1 p-xs-y-4 text-dark-soft">
                <small>Brought to you by <a href="https://tighten.co" class="link-tighten">Tighten</a></small>
            </p>
        </div>
        <div class="col-md-9 documentation-page">
            <h2>Collections</h2>
<p>Jigsaw provides powerful features for working with groups of related pages, or <em>collections</em>. Collections give you the ability to access your content at an aggregate level, enabling you to easily add near-dynamic features like menus, pagination, categories, and tags to your static site.</p>
<p>Collections can be used to generate pages of related content—for example, blog posts or articles that are sorted by date, with an index page displaying summaries of the five most recent posts—or for embedding related blocks of content <em>within</em> a page, for content like staff bios, product descriptions, or a portfolio of projects.</p>
<h3>Defining a Collection</h3>
<p>To define a collection, add an array named <code>collections</code> to <code>config.php</code>. Each collection should be indicated by the name of the collection (typically, plural), followed by an array of settings. For example:</p>
<blockquote>
<p><em>config.php</em></p>
</blockquote>
<pre><code>&lt;?php

return [
    'company' =&gt; 'Tighten',
    'contact_email' =&gt; 'support@tighten.co',
    'collections' =&gt; [
        'people' =&gt; [
            'path' =&gt; 'people',
            'sort' =&gt; 'last_name',
        ],
        'posts' =&gt; [
            'path' =&gt; 'blog/{date|Y-m-d}/{filename}',
            'author' =&gt; 'Tighten',
        ],
    ],
];</code></pre>
<p>Jigsaw will look for collection items in a directory with the same name as your collection, preceded by an underscore: in this example, <code>_people</code> and <code>_posts</code>. Collection items can be Markdown or Blade files, or even <a href="/docs/other-file-types">Blade/Markdown hybrid</a> files.</p>
<p><img src="../../img/collections-directory-structure.png" alt="Collections directory structure" /></p>
<p>In <code>config.php</code>, the array where you define your collection can contain <a href="/docs/collections-paths">path</a> and <a href="/docs/collections-sorting">sort</a> settings for the collection, as well as <a href="/docs/collections-variables-and-functions/">variables and helper functions</a>. None of these elements are required, however; if omitted, default path and sort settings will be used. In fact, for the simplest configuration using default settings and no variables or functions, you can define a collection with simply its name:</p>
<blockquote>
<p><em>config.php</em></p>
</blockquote>
<pre><code>&lt;?php

return [
    'collections' =&gt; [ 'posts' ],
];</code></pre>
<h3>Generating Collection Pages</h3>
<p>If you'd like to generate an individual page for each of your collection items—for example, a page for each blog post—specify a <a href="/docs/collections-extending-parent-templates">parent template</a> file in the <code>extends</code> key of the YAML front matter, or with the <code>@extends</code> directive in a Blade file, just as you would with a regular Jigsaw page. For example:</p>
<blockquote>
<p><em>my-first-post.md</em></p>
</blockquote>
<pre><code>---
extends: _layouts.post
title: My First Blog Post
author: Keith Damiani
date: 2017-03-23
section: content
---

This post is *profoundly* interesting.</code></pre>
<blockquote>
<p>_<em>layouts/post.blade.php</em></p>
</blockquote>
<pre><code>@extends('_layouts.master')

&lt;h1&gt;{{ $page-&gt;title }}&lt;/h1&gt;
&lt;p&gt;By {{ $page-&gt;author }} • {{ date('F j, Y', $page-&gt;date) }}&lt;/p&gt;

@yield('content')</code></pre>
<h3>Accessing Collection Items</h3>
<p>In any Blade template, you have access to each of your collections using a variable with the collection's name. This variable references an object that contains all the elements in your collection, and can be iterated over to
access individual collection items. The collection variable also behaves as if it were an <a href="https://laravel.com/docs/5.6/collections">Illuminate Collection</a> in Laravel, meaning you have access to all of Laravel's standard collection methods like <code>count()</code>, <code>filter()</code>, and <code>where()</code>.</p>
<p>For example, to create a list of the titles for all your blog posts, you can iterate over the <code>$posts</code> object in a Blade <code>@foreach</code> loop, and display the <code>title</code> property that you defined in the YAML front matter of each post:</p>
<blockquote>
<p><em>posts.blade.php</em></p>
</blockquote>
<pre><code>&lt;p&gt;Total of {{ $posts-&gt;count() }} posts&lt;/p&gt;

&lt;ul&gt;
@foreach ($posts as $post)
    &lt;li&gt;{{ $post-&gt;title }}&lt;/li&gt;
@endforeach
&lt;/ul&gt;</code></pre>
<h3>Collection Metadata</h3>
<p>In addition to the <a href="/docs/page-metadata/">metadata</a> available for every page, such as <code>getPath()</code>, <code>getUrl()</code>, and <code>getFilename()</code>, collection items have access to a few additional functions:</p>
<ul>
<li><code>getContent()</code> returns the main content of the collection item, i.e. the body of the Markdown file (currently, <code>getContent()</code> is available for Markdown files only)</li>
<li><code>getCollection()</code> returns the name of the collection</li>
<li><code>getPrevious()</code> and <code>getNext()</code> give you the adjacent items in the collection, based on the collection's default <a href="/docs/collections-sorting">sort order</a></li>
<li><code>getFirst()</code> returns the first item of a collection (as does the Laravel collection method <code>first()</code>)</li>
<li><code>getLast()</code> returns the last item of a collection (as does the Laravel collection method <code>last()</code>)</li>
</ul>
<blockquote>
<p>_<em>layouts/post.blade.php</em></p>
</blockquote>
<pre><code>@extends('_layouts.master')

&lt;h1&gt;{{ $page-&gt;title }}&lt;/h1&gt;

@yield('content')

@if ($page-&gt;getNext())
    &lt;p&gt;Read my next post:
        &lt;a href="{{ $page-&gt;getNext()-&gt;getPath() }}"&gt;{{ $page-&gt;getNext()-&gt;title }}&lt;/a&gt;
    &lt;/p&gt;
@endif</code></pre>        </div>
    </div>
</div>
        </div>
        <footer class="bg-dark text-center p-xs-y-6 p-xs-x-4 text-light-muted text-sm">
            <p>&copy; 2018 <a href="https://tighten.co" class="link-light-muted">Tighten</a></p>
        </footer>

        <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
        <script type="text/javascript">
            docsearch({
                apiKey: '57a7f5b1e4e0a44c7e2f8e96abcbf674',
                indexName: 'jigsaw',
                inputSelector: '#docsearch'
            });
        </script>

    </body>
</html>
